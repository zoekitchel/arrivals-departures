---
title: "Region PresAbs Species Figure"
output: html_notebook
---

```{r setup}
library(data.table)
library(ggplot2)
library(here)
load(here("Data","Spp_master", "spp_master_ztemp_seus_buoys.RData")) #load in processed presence/absence data
```

```{r data setup}
#rename region factors for plotting
spp_master_ztemp_seus_buoy[, region := factor(reg, labels = c("Aleutian Islands", "Eastern Bering Sea", "Gulf of Mexico", "Gulf of Alaska", "Northeast US", "Newfoundland","Southeast US","Scotian Shelf" ,"West Coast Triennial"))]

#make spp a factor
spp_master_ztemp_seus_buoy[, spp := factor(spp)]
#reverse order for plotting
spp_master_ztemp_seus_buoy[, spp := factor(spp, levels = rev(levels(spp)))]


ggplot(spp_master_ztemp_seus_buoy, aes(as.factor(year), as.factor(spp))) + 
  geom_tile(aes(fill = factor(present)), color = "grey", size = 0.01) +
  facet_wrap(~region, scales="free") +
  scale_fill_manual(values = c("white", "black"), breaks = c(0,1), labels = c("Absent", "Present")) +
  labs(x = "Year", y = "Species") +
  theme(legend.title = element_blank(),
        axis.text.y = element_text(size = 0.8),
        axis.text.x = element_text(size = 5, angle = 90, vjust = 0.5),
        strip.text.x = element_text(size = 10),
        axis.ticks = element_blank())


ggsave("region_presabs.eps", width = 10, height = 8, units = "in", path=here("figures","Supplemental"))

```
